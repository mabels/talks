<!doctype html>
<html lang="en">

	<head>
		<meta charset="utf-8">

		<title>beyond the network</title>

		<meta name="description" content="beyond the network">
		<meta name="author" content="Meno Abels">

		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />

		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/night.css" id="theme">

		<!-- Code syntax highlighting -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

		<!--[if lt IE 9]>
		<script src="lib/js/html5shiv.js"></script>
		<![endif]-->
	</head>

	<body>

		<div class="reveal">

			<!-- Any section element inside of this container is displayed as a slide -->
			<div class="slides">
				<section>
					<h1>beyond the network</h1>
					<h3>it is construqtion time</h3>
					<p>
						<small>powered by http://github.com/mabels/construqt / @construqt</small>
					</p>
				</section>

				<section>
					<h2>about me</h2>
					<ul>
            <li>i’m a software developer</li>
            <li>i’m an admin</li>
            <li>i’m a dev’op</li>
					</ul>
          <br>
          <br>
          <h4>disclaimer</h4>
            <ul>
             <li>bad painter</li>
             <li>to much numbers</li>
             <li>to much compressed code</li>
             <li>to long code lines</li>
             <li>there will be uml</li>
           </ul>
				</section>

				<section>
					<h2>building blocks</h2>
					<span class="fragment">
						<h4>network packets</h4>
					</span>
					<span class="fragment">
						<h4>automatic address discovery</h4>
					</span>
					<span class="fragment">
						<h4>network address translation</h4>
					</span>
					<span class="fragment">
						<h4>packet filtering</h4>
					</span>
					<span class="fragment">
						<h4>packet in packet(tunneling)</h4>
					</span>
				</section>

				<section>
					<h2>networking is hard!</h2>
					<span class="fragment">
						<h4>developers believe this</h4>
					</span>
					<span class="fragment">
						<h4>network-admins obscure that</h4>
					</span>
					<span class="fragment">
						<h4>application-architects != network-architects</h4>
					</span>
					<span class="fragment">
						<h4>documentation is hard</h4>
						<img src="images/patch-panel-hell.jpg" width="300" />
					</span>
				</section>


				<section>
					<h2>what is a network?</h2>
					<span class="fragment">
						<h4>wikipedia</h4>
						<p>
							...<br>
							<b>Two such devices can be said
							to be networked together when one device is able to exchange information
							with the other device</b>, whether or not they have a direct connection to each other.
						  <br>...
						</p>
					</span>
					<span class="fragment">
						<h4>managing connections of two or more partners!</h4>
					</span>
				</section>

				<section>
						<h2>manage connection?</h2>
						<div class='left' style='float:left;width:48%'>
							<img src="images/1of2_bridge.jpg" width="600" />
						</div>
						<div class='right' style='float:left;width:48%'>
							<ul>
								<li>left side with device X</li>
							</ul>
						</div>
				</section>

				<section>
						<h2>manage connection?</h2>
						<div class='left' style='float:left;width:48%'>
							<img src="images/2of2_bridge.jpg" width="600" />
						</div>
						<div class='right' style='float:left;width:48%'>
							<ul>
								<li>left side with device X</li>
								<li>right side with device Y</li>
								<li>very strong dependency!</li>
								<li>construction cost left + right</li>
							</ul>
						</div>
				</section>

				<section>
						<h2>could a developer solve this?</h2>
						<div class='left' style='float:left;width:48%'>
							<img src="images/2of2_bridge.jpg" width="600" />
						</div>
						<div class='right' style='float:left;width:48%'>
							<span class="fragment">
								YES!<br/>one interface different implementations.
							</span>
						</div>
				</section>

				<section>
						<h2>what is construqt</h2>
							<span class="fragment">
								<ul>
									<li>construqt is an interface to describe strong depending
										  network structures.</li>
								</ul>
							</span>
							<span class="fragment">
								<ul>
									<li>construqt describes connections(left,right) with same
								syntax, and hides the implementation details from
								user. It is vendor agnostic.</li>
								</ul>
							</span>
							<span class="fragment">
								<ul>
									<li>construqt uses a programming language(ruby) to describe
								the network. There is no static configuration file
								or format or syntax.</li>
								</ul>
							</span>
							<span class="fragment">
								<ul>
									<li>construqt knows the described network connections
								and generates a network-documetation automaticly.
									</li>
								</ul>
								<img src="images/docu-shot.png" width="400">
							</span>

				</section>

				<section>
					<h2>network notations</h2>
					<div class='left' style='float:left;width:48%'>
						<span class="fragment">
							<h4>ip number</h4>
							<ul>
								<li>v4 8.8.8.8</li>
								<li>v6 2001:4860:4860::8888</li>
							</ul>
						</span>
					</div>

					<div class='right' style='float:left;width:48%'>
								<span class="fragment">
									<h4>network mask</h4>
							<ul>
								<li>255.255.255.0</li>
								<li>ffff:ffff:ffff::</li>
							</ul>
							</span>
					</div>

								<span class="fragment">
									<h4>network address</h4>
									<ul>
										<li>8.8.8.8 &amp; 255.255.255.0 = 8.8.8.0</li>
										<li>2001:4860:4860::8888 &amp; ffff:ffff:ffff:: = 2001:4860:4860::</li>
									</ul>
							</span>
							<span class="fragment">
								<h4>ip &amp; network mask prefix notation</h4>
								<ul>
									<li>8.8.8.8/24</li>
									<li>2001:4860:4860::8888/48</li>
								</ul>
							</span>


				</section>

				<section>
					<h2>scottlands / single malt</h2>
          <div class='left' style='float:left;width:30%'>
            <span class="fragment" data-fragment-index="0">
              <img src="images/single-malt-drawing.jpg" width="300"/>
            </span>
            <span class="fragment" data-fragment-index="2">
              <img src="images/single-malt-generated.png" width="300"/>
            </span>
          </div>
          <div class='left' style='float:left;width:70%'>
					  <span class="fragment" data-fragment-index="1">
					    <pre>
                <code class="hljs" data-trim contenteditable>
def distil_single_malt(cn)
  cn.region.hosts.add("single-malt", 
    "flavour" =&gt; "ubuntu") do |host|
      cn.region.interfaces.add_device(host, "lo", 
        "mtu" =&gt; "9000",
        "address" =&gt; cn.region.network.addresses
          .add_ip(Construqt::Addresses::LOOOPBACK))
      host.configip = 
      host.id = Construqt::HostId.create do |my|
        my.interfaces &lt;&lt; cn.region.interfaces
          .add_device(host, "eth0", "mtu" =&gt; 1500,
          "address" =&gt; cn.region.network.addresses
          .add_ip(Construqt::Addresses::DHCPV4))
    end
  end
end
                </code>
              </pre>
            </span>
          <div>

				</section>

				<section>
					<h2>scottlands / wifi-access</h2>
          <div class='left' style='float:left;width:30%'>
            <span class="fragment" data-fragment-index="0">
              <img src="images/wifi-access-drawing.jpg" width="240"/>
            </span>
            <span class="fragment" data-fragment-index="2">
              <img src="images/wifi-access-generated.png" width="300"/>
            </span>
          </div>
					  <span class="fragment" data-fragment-index="1">
					    <pre>
                <code class="hljs" data-trim contenteditable>
def distil_wifi_ap(cn)
 cn.region.hosts.add('wifi-ap',"flavour"=&gt;"mikrotik") do |ap|
  ap.configip = ap.id ||= Construqt::HostId.create do |my|
   my.interfaces &lt;&lt; cn.region.interfaces.add_bridge(ap, 
    "bridge-local", "mtu" =&gt; 1500,
    "address" =&gt; cn.network.addresses.add_ip("192.168.88.1/24"), 
    "interfaces" =&gt; [
     cn.region.interfaces.add_device(ap, "ether2", 
      "mtu" =&gt; 1500, "default_name" =&gt; "ether2"),
     master_if = cn.region.interfaces.add_wlan(ap, "wlan1", 
      ...
      "ssid" =&gt; "ssid-wifi-geheim",
      "psk" =&gt; "psk-wifi-geheim")]+(["wifi-con", 
       "wifi-struqt"].map.with_index(300).map { |ssid, vlan|
        cn.region.interfaces.add_wlan(ap, "wl#{ssid}", 
         "mtu" =&gt; 1500, "vlan_id" =&gt; vlan, "master_if" =&gt; 
         master_if, "ssid" =&gt; ssid.upcase, 
         "psk" =&gt; "#{ssid}-#{vlan}")}))
  end
 end
end
                </code>
              </pre>
            </span>
				</section>


        <section>
          <h2>scottlands / blended scotch</h2>
          <div>
            <div class='left fragment' data-fragment-index="0" style='float:left;width:30%'>
              <img src="images/blended-scotch-drawing.jpg" width="180"/>
            </div>
            <div class='left fragment' data-fragment-index="2" style='float:left;width:70%'>
              <img src="images/blended-scotch-generated.png" width="700"/>
            </div>
          </div>

<div class="fragment" data-fragment-index="1" style='float:left;width:100%'>
          <pre>
            <code class="hljs" data-trim contenteditable>
def distil_blended_scotch(cn)
  [300,301].each do |vlan|
    cn.region.hosts.add("blended-scotch-#{vlan}", "flavour" =&gt; "ubuntu") do |host|
      cn.region.interfaces.add_device(host, "lo", "mtu" =&gt; "9000", "address" =&gt;
        cn.region.network.addresses.add_ip(Construqt::Addresses::LOOOPBACK))
      host.configip = host.id ||= Construqt::HostId.create do |my|
        my.interfaces &lt;&lt; cn.region.interfaces.add_device(host, "eth0", "mtu" =&gt; 1500,
         "address" =&gt; cn.network.addresses.add_ip(Construqt::Addresses::DHCPV4))
      end
      cn.region.interfaces.add_device(host, "v#{vlan}", "mtu" =&gt; 1500, 'address' =&gt;
        cn.region.network.addresses.add_ip("192.168.#{vlan%256}.1/24#INTERNAL-NET",
        "dhcp_range" =&gt; ["192.168.#{vlan%256}.100", "192.168.#{vlan%256}.200"]))
    end
  end
end
            </code>
          </pre>
</div>
        </section>

        <section>
          <h2>complete network</h2>
          <iframe data-src='images/blended-scotch-network.svg' width="100%" height="600">
          </iframe>  
        </section>

        <section>
          <h2>the end...questions?...thx</h2>
          <small>
            powered by http://github.com/mabels/construqt / @construqt<br>
            slides:  http://github.com/mabels/talks/beyond_the_network
          </small>

        </section>



			</div>

		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>

			// Full list of configuration options available at:
			// https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				controls: true,
				progress: true,
				history: true,
				center: true,

				transition: 'zoom', // none/fade/slide/convex/concave/zoom

				// Optional reveal.js plugins
				dependencies: [
					{ src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
					{ src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
					{ src: 'plugin/highlight/highlight.js', async: true, condition: function() { return !!document.querySelector( 'pre code' ); }, callback: function() { hljs.initHighlightingOnLoad(); } },
					{ src: 'plugin/zoom-js/zoom.js', async: true },
					{ src: 'plugin/notes/notes.js', async: true }
				]
			});

      Reveal.addEventListener( 'customevent', function() {
          console.log( '"customevent" has fired' );
      } );

		</script>

	</body>
</html>
